# 类型转换

通过**强制转换**或**自动转换**转换为如下的数据类型。

详细介绍： 语法专题——数据类型的转换.md



## 转换为基础类型

### 布尔值

*  **转换为false**

undefined，null，false，NAN，' ' （空串），0

* **转换为true**

其他值类型，所有对象

### 数字

- 数组

  - `[] --> 0:`  空数组转为0

  - `[1] --> 1`:  含有一个元素且为数字则转换为数字

  - `[1,2]`, `['abc',1]` --> NaN:  其余情况转为NaN

    

- 值类型

  - `null --> 0`
  - `'123' --> 123`: 纯数字构成的字符串直接转换为对应的数字
  - `true --> 1`
  - `false --> 0`
  - `'124a' --> NaN`：非纯数字构成的字符串
  - `undefined --> NaN`
  - `Symbol` --> **抛出错误**

- `除了数组之外的引用类型(Object) --> NaN`

### 字符串

- 数字：`123  --->  ‘123’`  

- 布尔值：`true ---> ‘true’    false --> 'false'`

- 数组： `[] ---> ‘ ’`  空数组转换为空串

  ​          `[ 1, '2' ] --- >  '1,2'`   费空数组每一项转换为字符串，用 ， 分割  

- 对象：  `{} --->  [object Object]`   `{a:1}  ---->  [object Object]` 

### 对象

1. 已经是基础类型，不需要转换。
2. 目标类型为字符串，先调用toString
3. 目标类型不为字符串，先调用 valueOf，结果为基础类型返回转换的值，不是基础类型调用String。
4. 没有返回基础类型，报错。

### 常见的类型转换情况

**相等操作符比较规则**

1. 如果有个操作数是布尔值，则在比较相等性之前，先将其转为数值，false->0,true->1
2. 如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前，先将字符串转为数值
3. 如果一个操作数是对象，另一个操作数不是，则调用对象的valueOf()方法，用得到的基本类型值按照前面的规则进行比较。
4. null和undefined是相等的，且在比较之前不能将其转换为其他任何值。
5. 如果一个操作数是NaN,则相等操作符返回false，注意NaN不等于NaN。
    6.如果两个操作数都是对象，则比较它们是不是同一对象，如果两个操作数都指向同一个对象，则相等操作符返回true，否则返回false

> 参考： [类型转换](https://sugarat.top/bigWeb/js/typeConvert.html#%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B)
>
> [JS中 [] == ![]结果为true，而 {} == !{}却为false， 追根刨底](https://blog.csdn.net/magic_xiang/article/details/83686224)

